<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Ecology and Evolution PhD Program Beginner R Workshop</title>
  <meta name="description" content="Ecology and Evolution PhD Program Beginner R Workshop">
  <meta name="generator" content="bookdown 0.7.10 and GitBook 2.6.7">

  <meta property="og:title" content="Ecology and Evolution PhD Program Beginner R Workshop" />
  <meta property="og:type" content="book" />
  
  
  
  <meta name="github-repo" content="Doi90/EcolEvol_R_Workshop" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Ecology and Evolution PhD Program Beginner R Workshop" />
  
  
  

<meta name="author" content="David Wilkinson">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="seeking-help.html">
<link rel="next" href="data-frame-manipulation.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="lodestar.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Ecology and Evolution Beginner's R Workshop</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preamble</a></li>
<li class="chapter" data-level="2" data-path="technical-requirements.html"><a href="technical-requirements.html"><i class="fa fa-check"></i><b>2</b> Technical Requirements</a></li>
<li class="chapter" data-level="3" data-path="r-vs-rstudio.html"><a href="r-vs-rstudio.html"><i class="fa fa-check"></i><b>3</b> R vs RStudio</a><ul>
<li class="chapter" data-level="3.1" data-path="r-vs-rstudio.html"><a href="r-vs-rstudio.html#r-vs-rstudio-1"><i class="fa fa-check"></i><b>3.1</b> R vs RStudio</a></li>
<li class="chapter" data-level="3.2" data-path="r-vs-rstudio.html"><a href="r-vs-rstudio.html#r"><i class="fa fa-check"></i><b>3.2</b> R</a></li>
<li class="chapter" data-level="3.3" data-path="r-vs-rstudio.html"><a href="r-vs-rstudio.html#rstudio"><i class="fa fa-check"></i><b>3.3</b> RStudio</a></li>
<li class="chapter" data-level="3.4" data-path="r-vs-rstudio.html"><a href="r-vs-rstudio.html#work-flow-within-rstudio"><i class="fa fa-check"></i><b>3.4</b> Work flow within RStudio</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="project-set-up.html"><a href="project-set-up.html"><i class="fa fa-check"></i><b>4</b> Project Set-up</a><ul>
<li class="chapter" data-level="4.1" data-path="project-set-up.html"><a href="project-set-up.html#introduction"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="project-set-up.html"><a href="project-set-up.html#directory-structures"><i class="fa fa-check"></i><b>4.2</b> Directory structures</a></li>
<li class="chapter" data-level="4.3" data-path="project-set-up.html"><a href="project-set-up.html#r-projects"><i class="fa fa-check"></i><b>4.3</b> R Projects</a></li>
<li class="chapter" data-level="4.4" data-path="project-set-up.html"><a href="project-set-up.html#code-script-structures"><i class="fa fa-check"></i><b>4.4</b> Code script structures</a></li>
<li class="chapter" data-level="4.5" data-path="project-set-up.html"><a href="project-set-up.html#code-style-guides"><i class="fa fa-check"></i><b>4.5</b> Code style guides</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="basic-r.html"><a href="basic-r.html"><i class="fa fa-check"></i><b>5</b> Basic <code>R</code></a><ul>
<li class="chapter" data-level="5.1" data-path="basic-r.html"><a href="basic-r.html#using-r-as-a-calculator"><i class="fa fa-check"></i><b>5.1</b> Using <code>R</code> as a calculator</a></li>
<li class="chapter" data-level="5.2" data-path="basic-r.html"><a href="basic-r.html#mathematical-functions"><i class="fa fa-check"></i><b>5.2</b> Mathematical functions</a></li>
<li class="chapter" data-level="5.3" data-path="basic-r.html"><a href="basic-r.html#comparing-things"><i class="fa fa-check"></i><b>5.3</b> Comparing things</a></li>
<li class="chapter" data-level="5.4" data-path="basic-r.html"><a href="basic-r.html#variables-and-assignment"><i class="fa fa-check"></i><b>5.4</b> Variables and assignment</a></li>
<li class="chapter" data-level="5.5" data-path="basic-r.html"><a href="basic-r.html#vectorisation"><i class="fa fa-check"></i><b>5.5</b> Vectorisation</a></li>
<li class="chapter" data-level="5.6" data-path="basic-r.html"><a href="basic-r.html#managing-your-environment"><i class="fa fa-check"></i><b>5.6</b> Managing your environment</a></li>
<li class="chapter" data-level="5.7" data-path="basic-r.html"><a href="basic-r.html#r-packages"><i class="fa fa-check"></i><b>5.7</b> R Packages</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="seeking-help.html"><a href="seeking-help.html"><i class="fa fa-check"></i><b>6</b> Seeking Help</a><ul>
<li class="chapter" data-level="6.1" data-path="seeking-help.html"><a href="seeking-help.html#reading-help-files"><i class="fa fa-check"></i><b>6.1</b> Reading Help files</a></li>
<li class="chapter" data-level="6.2" data-path="seeking-help.html"><a href="seeking-help.html#special-operators"><i class="fa fa-check"></i><b>6.2</b> Special Operators</a></li>
<li class="chapter" data-level="6.3" data-path="seeking-help.html"><a href="seeking-help.html#getting-help-on-packages"><i class="fa fa-check"></i><b>6.3</b> Getting help on packages</a></li>
<li class="chapter" data-level="6.4" data-path="seeking-help.html"><a href="seeking-help.html#when-you-kind-of-remember-the-function"><i class="fa fa-check"></i><b>6.4</b> When you kind of remember the function</a></li>
<li class="chapter" data-level="6.5" data-path="seeking-help.html"><a href="seeking-help.html#when-you-have-no-idea-where-to-begin"><i class="fa fa-check"></i><b>6.5</b> When you have no idea where to begin</a></li>
<li class="chapter" data-level="6.6" data-path="seeking-help.html"><a href="seeking-help.html#when-your-code-doesnt-work-seeking-help-from-your-peers"><i class="fa fa-check"></i><b>6.6</b> When your code doesn’t work: seeking help from your peers</a></li>
<li class="chapter" data-level="6.7" data-path="seeking-help.html"><a href="seeking-help.html#other-ports-of-call"><i class="fa fa-check"></i><b>6.7</b> Other ports of call</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-in-r.html"><a href="data-in-r.html"><i class="fa fa-check"></i><b>7</b> Data in R</a><ul>
<li class="chapter" data-level="7.1" data-path="data-in-r.html"><a href="data-in-r.html#data-types"><i class="fa fa-check"></i><b>7.1</b> Data Types</a></li>
<li class="chapter" data-level="7.2" data-path="data-in-r.html"><a href="data-in-r.html#type-coercion"><i class="fa fa-check"></i><b>7.2</b> Type Coercion</a></li>
<li class="chapter" data-level="7.3" data-path="data-in-r.html"><a href="data-in-r.html#data-structures"><i class="fa fa-check"></i><b>7.3</b> Data Structures</a><ul>
<li class="chapter" data-level="7.3.1" data-path="data-in-r.html"><a href="data-in-r.html#vectors"><i class="fa fa-check"></i><b>7.3.1</b> Vectors</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="data-in-r.html"><a href="data-in-r.html#lists"><i class="fa fa-check"></i><b>7.4</b> Lists</a></li>
<li class="chapter" data-level="7.5" data-path="data-in-r.html"><a href="data-in-r.html#data-frames"><i class="fa fa-check"></i><b>7.5</b> Data Frames</a></li>
<li class="chapter" data-level="7.6" data-path="data-in-r.html"><a href="data-in-r.html#factors"><i class="fa fa-check"></i><b>7.6</b> Factors</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-frame-manipulation.html"><a href="data-frame-manipulation.html"><i class="fa fa-check"></i><b>8</b> Data Frame Manipulation</a><ul>
<li class="chapter" data-level="8.1" data-path="data-frame-manipulation.html"><a href="data-frame-manipulation.html#subsetting-data"><i class="fa fa-check"></i><b>8.1</b> Subsetting data</a></li>
<li class="chapter" data-level="8.2" data-path="data-frame-manipulation.html"><a href="data-frame-manipulation.html#data-cleaning"><i class="fa fa-check"></i><b>8.2</b> Data Cleaning</a></li>
<li class="chapter" data-level="8.3" data-path="data-frame-manipulation.html"><a href="data-frame-manipulation.html#logical-subsetting"><i class="fa fa-check"></i><b>8.3</b> Logical Subsetting</a><ul>
<li class="chapter" data-level="8.3.1" data-path="data-frame-manipulation.html"><a href="data-frame-manipulation.html#single-criteria"><i class="fa fa-check"></i><b>8.3.1</b> Single Criteria</a></li>
<li class="chapter" data-level="8.3.2" data-path="data-frame-manipulation.html"><a href="data-frame-manipulation.html#multiple-criteria"><i class="fa fa-check"></i><b>8.3.2</b> Multiple Criteria</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-visualisation.html"><a href="data-visualisation.html"><i class="fa fa-check"></i><b>9</b> Data Visualisation</a><ul>
<li class="chapter" data-level="9.1" data-path="data-visualisation.html"><a href="data-visualisation.html#creating-publication-quality-graphics"><i class="fa fa-check"></i><b>9.1</b> Creating publication quality graphics</a></li>
<li class="chapter" data-level="9.2" data-path="data-visualisation.html"><a href="data-visualisation.html#grammar-of-graphics"><i class="fa fa-check"></i><b>9.2</b> Grammar of Graphics</a></li>
<li class="chapter" data-level="9.3" data-path="data-visualisation.html"><a href="data-visualisation.html#layers"><i class="fa fa-check"></i><b>9.3</b> Layers</a></li>
<li class="chapter" data-level="9.4" data-path="data-visualisation.html"><a href="data-visualisation.html#transformations-and-statistics"><i class="fa fa-check"></i><b>9.4</b> Transformations and statistics</a></li>
<li class="chapter" data-level="9.5" data-path="data-visualisation.html"><a href="data-visualisation.html#multi-panel-figures"><i class="fa fa-check"></i><b>9.5</b> Multi-panel figures</a></li>
<li class="chapter" data-level="9.6" data-path="data-visualisation.html"><a href="data-visualisation.html#further-customisation"><i class="fa fa-check"></i><b>9.6</b> Further Customisation</a></li>
<li class="chapter" data-level="9.7" data-path="data-visualisation.html"><a href="data-visualisation.html#saving-plots"><i class="fa fa-check"></i><b>9.7</b> Saving Plots</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://nikkirubinstein.gitbooks.io/resguides-introductory-r-workshop/content/" target="blank"> Modified with permission from Research Platforms Services material</a></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Ecology and Evolution PhD Program Beginner R Workshop</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-in-r" class="section level1">
<h1><span class="header-section-number">7</span> Data in R</h1>
<hr class="double">
<div id="data-types" class="section level2">
<h2><span class="header-section-number">7.1</span> Data Types</h2>
<p><code>R</code> can process a wide array of data types, but a key point to understand is that since it needs to handle different data types in different ways it will store them differently too.</p>
<p>There are 5 main data types:</p>
<ul>
<li>doubles/numerics: standard numbers e.g. 3.14</li>
<li>integers: whole numbers <em>without</em> decimal places eg. 1 but not 1.0 (and written as <code>1L</code> to specify integer status)</li>
<li>complex: These you can pretty much ignore. This is dealing with things like imaginary numbers.</li>
<li>logical: These are boolean values of <code>TRUE</code> and <code>FALSE</code> that are encoded as <code>1</code> and <code>0</code> respectively</li>
<li>character: These are strings of text e.g. <code>word</code> or <code>this is a sentence</code>. When specifying these in <code>R</code> they need be be enclosed in quotation marks like <code>&quot;word&quot;</code> or <code>'word'</code>.</li>
</ul>
<p>We can find the type of data something is stored as in <code>R</code> with the <code>typeof()</code> function, but for the majority of purposes it is better to know the <em>class</em> of data as that is the usual way <code>R</code> will communicate it to you. To do this we use the <code>class()</code> function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(<span class="fl">3.14</span>)</code></pre></div>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(1L)</code></pre></div>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(<span class="dv">1</span><span class="op">+</span>1i)</code></pre></div>
<pre><code>## [1] &quot;complex&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(<span class="ot">TRUE</span>)</code></pre></div>
<pre><code>## [1] &quot;logical&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">class</span>(<span class="st">&#39;banana&#39;</span>)</code></pre></div>
<pre><code>## [1] &quot;character&quot;</code></pre>
<hr class="single">
</div>
<div id="type-coercion" class="section level2">
<h2><span class="header-section-number">7.2</span> Type Coercion</h2>
<p>Data types/classes are important because we need to handle different types of data differently. For exampe, we can add two numeric values together, or a numeric and an integer, but we can’t add a numeric and a character together. <code>10 + &quot;apple&quot;</code> is nonsense, and <code>R</code> treats it that way. This enforced strictness is important, but it has some drawbacks to be aware of. The most important one is that all data in a single vector must be the same type. If you have a mix of values then everything will be converted to the “simplest” data type according to the following rule:</p>
<center>
<strong>logical &gt; integer &gt; numeric &gt; complex &gt; character</strong>
</center>
<p>A vector in <code>R</code> is essentially just an ordered list of things, with the special condition that <em>everything in the vector must be the same basic data type</em>. We can create a vector of values using the <code>c()</code> function:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_vec &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">6</span>,<span class="dv">3</span>)
my_vec</code></pre></div>
<pre><code>## [1] 2 6 3</code></pre>
<p>Given what we’ve learned so far, what do you think the following will produce?</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">vec1 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">6</span>,<span class="st">&#39;3&#39;</span>)
vec2 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;apple&quot;</span>, <span class="fl">2.1</span>, <span class="ot">TRUE</span>)
vec3 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>, <span class="fl">2.0</span>, 2L)</code></pre></div>
<p>You can try to force coercion against this flow using the <code>as.*()</code> functions. Not everything is possible, but it useful to remember for if data is read in incorrectly by <code>R</code> (like numerics as a character string).</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">as.numeric</span>(<span class="kw">c</span>(<span class="st">&#39;0&#39;</span>,<span class="st">&#39;2&#39;</span>,<span class="st">&#39;4&#39;</span>))</code></pre></div>
<pre><code>## [1] 0 2 4</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">as.logical</span>(<span class="dv">1</span>)</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">as.logical</span>(<span class="dv">0</span>)</code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">as.logical</span>(<span class="op">-</span><span class="fl">0.5</span>)</code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">as.logical</span>(<span class="st">&quot;house&quot;</span>)</code></pre></div>
<pre><code>## [1] NA</code></pre>
<p>As you can see, some surprising things can happen when <code>R</code> forces one basic data type into another! Nitty-gritty of type coercion aside, the point is: if your data doesn’t look like what you thought it was going to look like, type coercion may well be to blame.</p>
<hr class="single">
</div>
<div id="data-structures" class="section level2">
<h2><span class="header-section-number">7.3</span> Data Structures</h2>
<p>Now that we understand <em>data types</em> it is time to move on to the <em>data structures</em> that <code>R</code> uses to store data. The three data structures we will cover in this course are vectors, data frames, and lists. There are other data structures (like matrices and arrays) that we wont cover, but similar principles apply.</p>
<ul>
<li>Vectors are a one-dimensional sequence of data elements. Every element in a vector must be the same data type or it will undergo type coercion</li>
<li>Lists are a collection of elements. Each element can be any type of <code>R</code> object (vector, data frame, a single value, even another list).</li>
<li>Data frames are a two-dimensional table of data elements. Each column is a vector (so must be the same data type), while each row is a list (so can contain different data types)</li>
</ul>
<div id="vectors" class="section level3">
<h3><span class="header-section-number">7.3.1</span> Vectors</h3>
<p>We’ve alredy covered how to create a basic vector, so now we will cover how to manipulate the vector.</p>
<p>The <code>c()</code> function can also append things to an existing vector:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ab_vector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&#39;a&#39;</span>, <span class="st">&#39;b&#39;</span>)
ab_vector</code></pre></div>
<pre><code>## [1] &quot;a&quot; &quot;b&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">concat_example &lt;-<span class="st"> </span><span class="kw">c</span>(ab_vector, <span class="st">&#39;SWC&#39;</span>)
concat_example</code></pre></div>
<pre><code>## [1] &quot;a&quot;   &quot;b&quot;   &quot;SWC&quot;</code></pre>
<p>You can also create vectors of a series of numbers using more efficient methods. The <code>:</code> operator creates a vector of numbers from the first number to the second number by steps of 1.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="dv">1</span><span class="op">:</span><span class="dv">10</span></code></pre></div>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="fl">1.1</span><span class="op">:</span><span class="fl">9.9</span></code></pre></div>
<pre><code>## [1] 1.1 2.1 3.1 4.1 5.1 6.1 7.1 8.1 9.1</code></pre>
<p>The <code>seq()</code> function lets you create a sequence of numbers with a specified step value:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">seq</span>(<span class="dt">from =</span> <span class="dv">1</span>,
    <span class="dt">to =</span> <span class="dv">10</span>,
    <span class="dt">by=</span><span class="fl">0.1</span>)</code></pre></div>
<pre><code>##  [1]  1.0  1.1  1.2  1.3  1.4  1.5  1.6  1.7  1.8  1.9  2.0  2.1  2.2  2.3
## [15]  2.4  2.5  2.6  2.7  2.8  2.9  3.0  3.1  3.2  3.3  3.4  3.5  3.6  3.7
## [29]  3.8  3.9  4.0  4.1  4.2  4.3  4.4  4.5  4.6  4.7  4.8  4.9  5.0  5.1
## [43]  5.2  5.3  5.4  5.5  5.6  5.7  5.8  5.9  6.0  6.1  6.2  6.3  6.4  6.5
## [57]  6.6  6.7  6.8  6.9  7.0  7.1  7.2  7.3  7.4  7.5  7.6  7.7  7.8  7.9
## [71]  8.0  8.1  8.2  8.3  8.4  8.5  8.6  8.7  8.8  8.9  9.0  9.1  9.2  9.3
## [85]  9.4  9.5  9.6  9.7  9.8  9.9 10.0</code></pre>
<div id="vector-subsetting" class="section level4">
<h4><span class="header-section-number">7.3.1.1</span> Vector Subsetting</h4>
<p>To subset a vector we use what is known as square bracket notation <code>[]</code>. The individual elements in a vector are ordered, so we can call for specific elements directly by placing the index inside <code>[]</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_vec &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">10</span>)

my_vec[<span class="dv">3</span>]</code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_vec[<span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">4</span>)]</code></pre></div>
<pre><code>## [1] 3 6</code></pre>
<p>Instead of asking for specific elements of a vector by index you can ask <code>R</code> to return any values that meet a specific criteria. We do this by placing a logical/boolean test in <code>[]</code> in place of an index.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_vec &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="dv">10</span>

my_vec[my_vec <span class="op">&gt;</span><span class="st"> </span><span class="dv">8</span>]  <span class="co"># Return values &gt; 8</span></code></pre></div>
<pre><code>## [1]  9 10</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_vec[my_vec <span class="op">%%</span><span class="st"> </span><span class="dv">2</span> <span class="op">==</span><span class="st"> </span><span class="dv">0</span>] <span class="co"># Return even numbers only</span></code></pre></div>
<pre><code>## [1]  2  4  6  8 10</code></pre>
<p>In addition to asking for elements of a vector with the square bracket notation, we can ask a few other questions about vectors:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">my_vec &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="dv">0</span>, <span class="dv">100</span>, <span class="fl">0.1</span>)

## Find out how long the vector is

<span class="kw">length</span>(my_vec)</code></pre></div>
<pre><code>## [1] 1001</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Show only the start of a vector

<span class="kw">head</span>(my_vec)</code></pre></div>
<pre><code>## [1] 0.0 0.1 0.2 0.3 0.4 0.5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Show only the end of a vector

<span class="kw">tail</span>(my_vec)</code></pre></div>
<pre><code>## [1]  99.5  99.6  99.7  99.8  99.9 100.0</code></pre>
<p>Finally, you can give names to elements in your vector and subset by those:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">name_vec &lt;-<span class="st"> </span><span class="dv">5</span><span class="op">:</span><span class="dv">9</span>

<span class="kw">names</span>(name_vec) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>, <span class="st">&quot;c&quot;</span>, <span class="st">&quot;d&quot;</span>, <span class="st">&quot;e&quot;</span>)

name_vec</code></pre></div>
<pre><code>## a b c d e 
## 5 6 7 8 9</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">name_vec[<span class="st">&quot;a&quot;</span>]</code></pre></div>
<pre><code>## a 
## 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">name_vec[<span class="kw">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;b&quot;</span>)]</code></pre></div>
<pre><code>## a b 
## 5 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">###################
### Challenge 9 <span class="al">###</span>
###################

<span class="co"># Given the following lines of code:</span>

<span class="co"># x &lt;- 1:5</span>
<span class="co"># names(x) &lt;- letters[1:5]</span>
<span class="co"># x</span>

<span class="co"># Find at least five different commands to come up with the following subset:</span>

<span class="co">#  b  c  d</span>
<span class="co">#  2  3  4</span>

<span class="co"># Fictional bonus points for anyone who figures out the %in% operator!</span></code></pre></div>
</div>
</div>
</div>
<div id="lists" class="section level2">
<h2><span class="header-section-number">7.4</span> Lists</h2>
<p>While everything in a vector has to be the same data type, a list is a really useful data structure to know since you can fill it with anything.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">list_example &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dv">1</span>, <span class="st">&quot;a&quot;</span>, <span class="ot">TRUE</span>, <span class="dv">1</span><span class="op">+</span>4i)
list_example</code></pre></div>
<pre><code>## [[1]]
## [1] 1
## 
## [[2]]
## [1] &quot;a&quot;
## 
## [[3]]
## [1] TRUE
## 
## [[4]]
## [1] 1+4i</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">another_list &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="dt">title =</span> <span class="st">&quot;Research Bazaar&quot;</span>, <span class="dt">numbers =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>, <span class="dt">data =</span> <span class="ot">TRUE</span> )
another_list</code></pre></div>
<pre><code>## $title
## [1] &quot;Research Bazaar&quot;
## 
## $numbers
##  [1]  1  2  3  4  5  6  7  8  9 10
## 
## $data
## [1] TRUE</code></pre>
<p>To subset a list we still use square bracket notation, but the syntax here can be confusing at first. Standard <code>[]</code> subsetting will return the specified element of a list as a list of one element rather than extracting the element itself. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">another_list[<span class="dv">1</span>]</code></pre></div>
<pre><code>## $title
## [1] &quot;Research Bazaar&quot;</code></pre>
<p>To extract the actual element of the list we need to use double bracket notation <code>[[]]</code> instead. Alternatively, in lists with named elements like this one you can call a specific list element by name with the <code>$</code> operator.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">another_list[[<span class="dv">1</span>]]</code></pre></div>
<pre><code>## [1] &quot;Research Bazaar&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">another_list<span class="op">$</span>title</code></pre></div>
<pre><code>## [1] &quot;Research Bazaar&quot;</code></pre>
<p>When you extracted the element of a list with double square bracket notation you can further subset it like you would normally with single bracket notation e.g. <code>[[]][]</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">####################
### Challenge 10 <span class="al">###</span>
####################

<span class="co"># Using the following code:</span>

<span class="co"># challenge_list &lt;- list(words = c(&quot;alpha&quot;, &quot;beta&quot;, &quot;gamma&quot;),</span>
<span class="co">#                        numbers = 1:10,</span>
<span class="co">#                        letter = letters)</span>

<span class="co"># challenge_list</span>

<span class="co"># Extract the following things:</span>
<span class="co">#   - The word &quot;gamma&quot;</span>
<span class="co">#   - The letters &quot;a&quot;, &quot;e&quot;, &quot;i&quot;, &quot;o&quot;, and &quot;u&quot;</span>
<span class="co">#   - The numbers less than or equal to 3</span>

<span class="co"># More fictional bonus points if you use a different methods!</span></code></pre></div>
</div>
<div id="data-frames" class="section level2">
<h2><span class="header-section-number">7.5</span> Data Frames</h2>
<p>Data frames are two-dimensional data structures and will probably be the most common one you use in your own analysis. Most functions for loading data into <code>R</code> from file (like <code>read.csv()</code>) will turn it into a <code>data.frame</code> by default.</p>
<p>Let’s start by making a toy dataset in your <code>data/</code> directory, called <code>feline.csv</code>. Copy the following lines of data, open a new text file in <code>RStudio</code> with <code>File &gt; New File &gt; Text File</code>, paste the data, and save it to the appropriate directory.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">coat,weight,likes_string
calico,<span class="fl">2.1</span>,<span class="ot">TRUE</span>
black,<span class="fl">5.0</span>,<span class="ot">FALSE</span>
tabby,<span class="fl">3.2</span>,<span class="ot">TRUE</span></code></pre></div>
<p>We can load this into <code>R</code> via the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cats &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="dt">file =</span> <span class="st">&quot;data/feline.csv&quot;</span>)
cats</code></pre></div>
<pre><code>##     coat weight likes_string
## 1 calico    2.1         TRUE
## 2  black    5.0        FALSE
## 3  tabby    3.2         TRUE</code></pre>
<p>Each column in a data frame is a vector (same data type), and each row is a list (different data types). We can look at the structure of a data frame using the <code>str()</code> function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(cats)</code></pre></div>
<pre><code>## &#39;data.frame&#39;:    3 obs. of  3 variables:
##  $ coat        : Factor w/ 3 levels &quot;black&quot;,&quot;calico&quot;,..: 2 1 3
##  $ weight      : num  2.1 5 3.2
##  $ likes_string: logi  TRUE FALSE TRUE</code></pre>
<p>We can begin exploring our dataset right away, pulling out columns and rows or combinations thereof. To extract a single column from the data you use the <code>$</code> operator with this syntax <code>data_name$column_name</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cats<span class="op">$</span>weight</code></pre></div>
<pre><code>## [1] 2.1 5.0 3.2</code></pre>
<p>Since a column is a vector we can further subset this with <code>[]</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Just the first element of the weight column

cats<span class="op">$</span>weight[<span class="dv">1</span>]</code></pre></div>
<pre><code>## [1] 2.1</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Just the second element of the weight column

cats<span class="op">$</span>weight[<span class="dv">2</span>]</code></pre></div>
<pre><code>## [1] 5</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Add the two previous values together

cats<span class="op">$</span>weight[<span class="dv">1</span>] <span class="op">+</span><span class="st"> </span>cats<span class="op">$</span>weight[<span class="dv">2</span>]</code></pre></div>
<pre><code>## [1] 7.1</code></pre>
<p>If we want to subset the full <code>cats</code> dataset then we need to specify the element/s we want to extract in two dimensions (rows and columns, in that order). This uses the following square bracket syntax <code>[row_id, column_id]</code>. If you want to subset in one dimension only and keep all of the other (e.g. first row of every column) then you just keep one dimension empty in the square brackets e.g. <code>[row_id, ]</code>. For example:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Extract the first row

cats[<span class="dv">1</span>, ]</code></pre></div>
<pre><code>##     coat weight likes_string
## 1 calico    2.1         TRUE</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Extract the second column

cats[ , <span class="dv">2</span>]</code></pre></div>
<pre><code>## [1] 2.1 5.0 3.2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">## Extract the value for the second row in the third column

cats[<span class="dv">2</span>, <span class="dv">3</span>]</code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>To highlight the difference vectors and lists, lets try and add a new row of data to the <code>cats</code> data frame.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">garfield &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;marmalade&quot;</span>, <span class="dv">20</span>, <span class="ot">FALSE</span>)
garfield</code></pre></div>
<pre><code>## [1] &quot;marmalade&quot; &quot;20&quot;        &quot;FALSE&quot;</code></pre>
<p>If we create the new row as a vector then type coercion kicks in and we no longer have the data in the correct format! However, if we use a list:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">garfield &lt;-<span class="st"> </span><span class="kw">list</span>(<span class="st">&quot;marmalade&quot;</span>, <span class="dv">20</span>, <span class="ot">FALSE</span>)
garfield</code></pre></div>
<pre><code>## [[1]]
## [1] &quot;marmalade&quot;
## 
## [[2]]
## [1] 20
## 
## [[3]]
## [1] FALSE</code></pre>
<p>To add a new row to a data frame we can use the <code>rbind()</code> (row bind) function.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">cats2 &lt;-<span class="st"> </span><span class="kw">rbind</span>(cats, garfield)</code></pre></div>
<pre><code>## Warning in `[&lt;-.factor`(`*tmp*`, ri, value = &quot;marmalade&quot;): invalid factor
## level, NA generated</code></pre>
<p>But now why didn’t this work?</p>
<hr class="single">
</div>
<div id="factors" class="section level2">
<h2><span class="header-section-number">7.6</span> Factors</h2>
<p>Another important data structure is called a <strong>factor</strong>. Factors usually <em>look</em> like character data but are <em>stored</em> as integers with a look-up table. They are important for representing categorical information for statistical analysis. Lets take a closer look at the <code>coat</code> column using <code>str()</code>:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">str</span>(cats<span class="op">$</span>coat)</code></pre></div>
<pre><code>##  Factor w/ 3 levels &quot;black&quot;,&quot;calico&quot;,..: 2 1 3</code></pre>
<p>Factors make use of a look-up table to convert the numbers back to characters. In this case every <code>1</code> refers to <code>&quot;calico&quot;</code>. This means that you can’t add new data that doesn’t match the existing factor levels because <code>R</code> doesn’t understand how to handle to data. It only knows what values correspond to 1,2, and 3. <code>&quot;marmalade&quot;</code> could be anything else! To get passed this we need to tell <code>R</code> that we want an extra factor level called <code>&quot;marmalade&quot;</code>, and we do this with the <code>levels()</code> command.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Existing levels</span>

<span class="kw">levels</span>(cats<span class="op">$</span>coat)</code></pre></div>
<pre><code>## [1] &quot;black&quot;  &quot;calico&quot; &quot;tabby&quot;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Lets add a new level</span>

<span class="kw">levels</span>(cats<span class="op">$</span>coat) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="kw">levels</span>(cats<span class="op">$</span>coat), <span class="st">&quot;marmalade&quot;</span>)

<span class="co"># Now lets see the new levels</span>

<span class="kw">levels</span>(cats<span class="op">$</span>coat)</code></pre></div>
<pre><code>## [1] &quot;black&quot;     &quot;calico&quot;    &quot;tabby&quot;     &quot;marmalade&quot;</code></pre>
<p>While factors are essential for statistical modelling they can’t be a nuisance in other instances. <code>R</code> will load all character data as factors by default, but we can tell it not to.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">####################
### Challenge 11 <span class="al">###</span>
####################

<span class="co"># Look thorugh the help file for the read.csv() command to find an argument to stop character data from being loaded as factors. Hint: Characters are sometimes referred to as strings.</span>

<span class="co"># Reload the cats data frame from file without factors</span>

<span class="co"># Add the new row of Garfield data to the data frame</span></code></pre></div>
<hr class="single">
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">####################
### Challenge 12 <span class="al">###</span>
####################

<span class="co"># Create a list of length two containing a character vector for each of the sections in this part of the workshop:</span>

<span class="co"># - Data types</span>
<span class="co"># - Data structures</span>

<span class="co"># Populate each character vector with the names of the data types and data structures we&#39;ve seen so far.</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="seeking-help.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-frame-manipulation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection",
"scroll_highlight": true,
"search": true
}
});
});
</script>

</body>

</html>
