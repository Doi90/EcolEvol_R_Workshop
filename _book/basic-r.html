<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title></title>
  <meta name="description" content="">
  <meta name="generator" content="bookdown 0.4 and GitBook 2.6.7">

  <meta property="og:title" content="" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="project-set-up.html">
<link rel="next" href="seeking-help.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="lodestar.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Ecology and Evolution Beginner's R Workshop</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Preamble</a></li>
<li class="chapter" data-level="2" data-path="technical-requirements.html"><a href="technical-requirements.html"><i class="fa fa-check"></i><b>2</b> Technical Requirements</a></li>
<li class="chapter" data-level="3" data-path="r-vs-rstudio.html"><a href="r-vs-rstudio.html"><i class="fa fa-check"></i><b>3</b> R vs RStudio</a><ul>
<li class="chapter" data-level="3.1" data-path="r-vs-rstudio.html"><a href="r-vs-rstudio.html#r-vs-rstudio-1"><i class="fa fa-check"></i><b>3.1</b> R vs RStudio</a></li>
<li class="chapter" data-level="3.2" data-path="r-vs-rstudio.html"><a href="r-vs-rstudio.html#r"><i class="fa fa-check"></i><b>3.2</b> R</a></li>
<li class="chapter" data-level="3.3" data-path="r-vs-rstudio.html"><a href="r-vs-rstudio.html#rstudio"><i class="fa fa-check"></i><b>3.3</b> RStudio</a></li>
<li class="chapter" data-level="3.4" data-path="r-vs-rstudio.html"><a href="r-vs-rstudio.html#work-flow-within-rstudio"><i class="fa fa-check"></i><b>3.4</b> Work flow within RStudio</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="project-set-up.html"><a href="project-set-up.html"><i class="fa fa-check"></i><b>4</b> Project Set-up</a><ul>
<li class="chapter" data-level="4.1" data-path="project-set-up.html"><a href="project-set-up.html#introduction"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="project-set-up.html"><a href="project-set-up.html#directory-structures"><i class="fa fa-check"></i><b>4.2</b> Directory structures</a></li>
<li class="chapter" data-level="4.3" data-path="project-set-up.html"><a href="project-set-up.html#r-projects"><i class="fa fa-check"></i><b>4.3</b> R Projects</a></li>
<li class="chapter" data-level="4.4" data-path="project-set-up.html"><a href="project-set-up.html#code-script-structures"><i class="fa fa-check"></i><b>4.4</b> Code script structures</a></li>
<li class="chapter" data-level="4.5" data-path="project-set-up.html"><a href="project-set-up.html#code-style-guides"><i class="fa fa-check"></i><b>4.5</b> Code style guides</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="basic-r.html"><a href="basic-r.html"><i class="fa fa-check"></i><b>5</b> Basic R</a><ul>
<li class="chapter" data-level="5.1" data-path="basic-r.html"><a href="basic-r.html#using-r-as-a-calculator"><i class="fa fa-check"></i><b>5.1</b> Using R as a calculator</a></li>
<li class="chapter" data-level="5.2" data-path="basic-r.html"><a href="basic-r.html#mathematical-functions"><i class="fa fa-check"></i><b>5.2</b> Mathematical functions</a></li>
<li class="chapter" data-level="5.3" data-path="basic-r.html"><a href="basic-r.html#comparing-things"><i class="fa fa-check"></i><b>5.3</b> Comparing things</a></li>
<li class="chapter" data-level="5.4" data-path="basic-r.html"><a href="basic-r.html#variables-and-assignment"><i class="fa fa-check"></i><b>5.4</b> Variables and assignment</a></li>
<li class="chapter" data-level="5.5" data-path="basic-r.html"><a href="basic-r.html#vectorisation"><i class="fa fa-check"></i><b>5.5</b> Vectorisation</a></li>
<li class="chapter" data-level="5.6" data-path="basic-r.html"><a href="basic-r.html#managing-your-environment"><i class="fa fa-check"></i><b>5.6</b> Managing your environment</a></li>
<li class="chapter" data-level="5.7" data-path="basic-r.html"><a href="basic-r.html#r-packages"><i class="fa fa-check"></i><b>5.7</b> R Packages</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="seeking-help.html"><a href="seeking-help.html"><i class="fa fa-check"></i><b>6</b> Seeking Help</a><ul>
<li class="chapter" data-level="6.1" data-path="seeking-help.html"><a href="seeking-help.html#reading-help-files"><i class="fa fa-check"></i><b>6.1</b> Reading Help files</a></li>
<li class="chapter" data-level="6.2" data-path="seeking-help.html"><a href="seeking-help.html#special-operators"><i class="fa fa-check"></i><b>6.2</b> Special Operators</a></li>
<li class="chapter" data-level="6.3" data-path="seeking-help.html"><a href="seeking-help.html#getting-help-on-packages"><i class="fa fa-check"></i><b>6.3</b> Getting help on packages</a></li>
<li class="chapter" data-level="6.4" data-path="seeking-help.html"><a href="seeking-help.html#when-you-kind-of-remember-the-function"><i class="fa fa-check"></i><b>6.4</b> When you kind of remember the function</a></li>
<li class="chapter" data-level="6.5" data-path="seeking-help.html"><a href="seeking-help.html#when-you-have-no-idea-where-to-begin"><i class="fa fa-check"></i><b>6.5</b> When you have no idea where to begin</a></li>
<li class="chapter" data-level="6.6" data-path="seeking-help.html"><a href="seeking-help.html#when-your-code-doesnt-work-seeking-help-from-your-peers"><i class="fa fa-check"></i><b>6.6</b> When your code doesn’t work: seeking help from your peers</a></li>
<li class="chapter" data-level="6.7" data-path="seeking-help.html"><a href="seeking-help.html#other-ports-of-call"><i class="fa fa-check"></i><b>6.7</b> Other ports of call</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-in-r.html"><a href="data-in-r.html"><i class="fa fa-check"></i><b>7</b> Data in R</a><ul>
<li class="chapter" data-level="7.1" data-path="data-in-r.html"><a href="data-in-r.html#data-types"><i class="fa fa-check"></i><b>7.1</b> Data Types</a></li>
<li class="chapter" data-level="7.2" data-path="data-in-r.html"><a href="data-in-r.html#type-coercion"><i class="fa fa-check"></i><b>7.2</b> Type Coercion</a></li>
<li class="chapter" data-level="7.3" data-path="data-in-r.html"><a href="data-in-r.html#data-structures"><i class="fa fa-check"></i><b>7.3</b> Data Structures</a><ul>
<li class="chapter" data-level="7.3.1" data-path="data-in-r.html"><a href="data-in-r.html#vectors"><i class="fa fa-check"></i><b>7.3.1</b> Vectors</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="data-in-r.html"><a href="data-in-r.html#lists"><i class="fa fa-check"></i><b>7.4</b> Lists</a></li>
<li class="chapter" data-level="7.5" data-path="data-in-r.html"><a href="data-in-r.html#data-frames"><i class="fa fa-check"></i><b>7.5</b> Data Frames</a></li>
<li class="chapter" data-level="7.6" data-path="data-in-r.html"><a href="data-in-r.html#factors"><i class="fa fa-check"></i><b>7.6</b> Factors</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-frame-manipulation.html"><a href="data-frame-manipulation.html"><i class="fa fa-check"></i><b>8</b> Data Frame Manipulation</a><ul>
<li class="chapter" data-level="8.1" data-path="data-frame-manipulation.html"><a href="data-frame-manipulation.html#subsetting-data"><i class="fa fa-check"></i><b>8.1</b> Subsetting data</a></li>
<li class="chapter" data-level="8.2" data-path="data-frame-manipulation.html"><a href="data-frame-manipulation.html#data-cleaning"><i class="fa fa-check"></i><b>8.2</b> Data Cleaning</a></li>
<li class="chapter" data-level="8.3" data-path="data-frame-manipulation.html"><a href="data-frame-manipulation.html#logical-subsetting"><i class="fa fa-check"></i><b>8.3</b> Logical Subsetting</a><ul>
<li class="chapter" data-level="8.3.1" data-path="data-frame-manipulation.html"><a href="data-frame-manipulation.html#single-criteria"><i class="fa fa-check"></i><b>8.3.1</b> Single Criteria</a></li>
<li class="chapter" data-level="8.3.2" data-path="data-frame-manipulation.html"><a href="data-frame-manipulation.html#multiple-criteria"><i class="fa fa-check"></i><b>8.3.2</b> Multiple Criteria</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-visualisation.html"><a href="data-visualisation.html"><i class="fa fa-check"></i><b>9</b> Data Visualisation</a><ul>
<li class="chapter" data-level="9.1" data-path="data-visualisation.html"><a href="data-visualisation.html#creating-publication-quality-graphics"><i class="fa fa-check"></i><b>9.1</b> Creating publication quality graphics</a></li>
<li class="chapter" data-level="9.2" data-path="data-visualisation.html"><a href="data-visualisation.html#grammar-of-graphics"><i class="fa fa-check"></i><b>9.2</b> Grammar of Graphics</a></li>
<li class="chapter" data-level="9.3" data-path="data-visualisation.html"><a href="data-visualisation.html#layers"><i class="fa fa-check"></i><b>9.3</b> Layers</a></li>
<li class="chapter" data-level="9.4" data-path="data-visualisation.html"><a href="data-visualisation.html#transformations-and-statistics"><i class="fa fa-check"></i><b>9.4</b> Transformations and statistics</a></li>
<li class="chapter" data-level="9.5" data-path="data-visualisation.html"><a href="data-visualisation.html#multi-panel-figures"><i class="fa fa-check"></i><b>9.5</b> Multi-panel figures</a></li>
<li class="chapter" data-level="9.6" data-path="data-visualisation.html"><a href="data-visualisation.html#further-customisation"><i class="fa fa-check"></i><b>9.6</b> Further Customisation</a></li>
<li class="chapter" data-level="9.7" data-path="data-visualisation.html"><a href="data-visualisation.html#saving-plots"><i class="fa fa-check"></i><b>9.7</b> Saving Plots</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://nikkirubinstein.gitbooks.io/resguides-introductory-r-workshop/content/" target="blank"> Modified with permission from Research Platforms Services material</a></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="basic-r" class="section level1">
<h1><span class="header-section-number">5</span> Basic R</h1>
<hr class="double">
<div id="using-r-as-a-calculator" class="section level2">
<h2><span class="header-section-number">5.1</span> Using R as a calculator</h2>
<p>The simplest thing you could do with R is do arithmetic:</p>
<pre class="{r}"><code>1 + 100</code></pre>
<p>If you type in an incomplete command, <code>R</code> will wait for you to complete it. If the symbol to the left of the bottom line in the console is <code>&gt;</code> then <code>R</code> is ready to accept a new command, while a <code>+</code> means it is waiting for you to finsh the previous command.</p>
<p>If you want to cancel a command you can simply hit <code>Esc</code> and RStudio will give you back the “&gt;” prompt (or <code>Ctrl+C</code> for a Mac). This is a useful tip to remember if you ever get stuck in a <code>+</code> loop in the console!</p>
<p>When using <code>R</code> as a calculator, the order of operations is the same as you would have learnt back in school.</p>
<p>From highest to lowest precedence:</p>
<ul>
<li>Parentheses: <code>(</code>, <code>)</code></li>
<li>Exponents: <code>^</code> or <code>**</code></li>
<li>Divide: <code>/</code></li>
<li>Multiply: <code>*</code></li>
<li>Add: <code>+</code></li>
<li>Subtract: <code>-</code></li>
</ul>
<pre class="{r}"><code>3 + 5 * 2</code></pre>
<p>Use parentheses to group operations in order to force the order of evaluation if it differs from the default, or to make clear what you intend.</p>
<pre class="{r}"><code>(3 + 5) * 2</code></pre>
<p>This can get unwieldy when not needed, but clarifies your intentions. Remember that others may later read your code.</p>
<p><code>{r, eval=FALSE} (3 + (5 * (2 ^ 2))) # hard to read 3 + 5 * 2 ^ 2       # clear, if you remember the rules 3 + 5 * (2 ^ 2)     # if you forget some rules, this might help</code></p>
<p>The text after each line of code is called a “comment”. Anything that follows after the hash (or octothorpe) symbol <code>#</code> is ignored by <code>R</code> when it executes code.</p>
<p>Really small or large numbers get a scientific notation:</p>
<pre class="{r}"><code>2/10000</code></pre>
<p>Which is shorthand for “multiplied by <code>10^XX</code>”. So <code>2e-4</code> is shorthand for <code>2 * 10^(-4)</code>.</p>
<p>You can write numbers in scientific notation too:</p>
<pre class="{r}"><code>5e3  # Note the lack of minus here</code></pre>
<hr class="small">
</div>
<div id="mathematical-functions" class="section level2">
<h2><span class="header-section-number">5.2</span> Mathematical functions</h2>
<p><code>R</code> has many built in mathematical functions. To call a function, we simply type its name, followed by open and closing parentheses. Anything we type inside the parentheses is called the function’s arguments:</p>
<pre class="{r}"><code>sin(1)  # trigonometry functions</code></pre>
<pre class="{r}"><code>log(1)  # natural logarithm</code></pre>
<pre class="{r}"><code>log10(10) # base-10 logarithm</code></pre>
<pre class="{r}"><code>exp(0.5) # e^(1/2)</code></pre>
<p>Don’t worry about trying to remember every function in <code>R</code>. You can simply look them up on google, or if you can remember the start of the function’s name, use the tab completion in <code>RStudio</code>.</p>
<p>This is one advantage that <code>RStudio</code> has over <code>R</code> on its own, it has autocompletion abilities that allow you to more easily look up functions, their arguments, and the values that they take.</p>
<p>Typing a <code>?</code> before the name of a function will open the help page for that function. As well as providing a detailed description of the function and how it works, scrolling to the bottom of the help page will usually show a collection of code examples which illustrate how to use it. We’ll go through an example later.</p>
<hr class="small">
</div>
<div id="comparing-things" class="section level2">
<h2><span class="header-section-number">5.3</span> Comparing things</h2>
<p>We can also do comparison in <code>R</code>:</p>
<pre class="{r}"><code>1 == 1  # equality (note two equals signs, read as &quot;is equal to&quot;)</code></pre>
<pre class="{r}"><code>1 != 2  # inequality (read as &quot;is not equal to&quot;)</code></pre>
<pre class="{r}"><code>1 &lt;  2  # less than</code></pre>
<pre class="{r}"><code>1 &lt;= 1  # less than or equal to</code></pre>
<pre class="{r}"><code>1 &gt; 0  # greater than</code></pre>
<pre class="{r}"><code>1 &gt;= -9 # greater than or equal to</code></pre>
<p>A word of warning about comparing numbers: you should never use <code>==</code> to compare two numbers unless they are integers (a data type which can specifically represent only whole numbers).</p>
<p>Computers may only represent decimal numbers with a certain degree of precision, so two numbers which look the same when printed out by <code>R</code>, may actually have different underlying representations and therefore be different by a small margin of error (called Machine numeric tolerance).</p>
<p>Instead you should use the <code>all.equal()</code> function.</p>
<hr class="small">
</div>
<div id="variables-and-assignment" class="section level2">
<h2><span class="header-section-number">5.4</span> Variables and assignment</h2>
<p>We can store values in variables using the assignment operator <code>&lt;-</code>, like this:</p>
<pre class="{r}"><code>x &lt;- 1</code></pre>
<p>Notice that assignment does not print a value to the console. Instead, we stored it for later in something called a <strong>variable</strong>. <code>x</code> now contains the <strong>value</strong> <code>1</code>:</p>
<pre class="{r}"><code>x</code></pre>
<p>Look for the <code>Environment</code> tab in one of the panes of <code>RStudio</code>, and you will see that <code>x</code> and its value have appeared. Our variable <code>x</code> can be used in place of a number in any calculation that expects a number:</p>
<pre class="{r}"><code>log(x)</code></pre>
<p>Notice also that variables can be reassigned:</p>
<pre class="{r}"><code>x &lt;- 100</code></pre>
<p><code>x</code> used to contain the value 1 and and now it has the value 100.</p>
<p>Assignment values can contain the variable being assigned to:</p>
<pre class="{r}"><code>x &lt;- x + 1 # notice how RStudio updates its description of x on the top right tab</code></pre>
<p>The right hand side of the assignment can be any valid <code>R</code> expression. The right hand side is <em>fully evaluated</em> before the assignment occurs.</p>
<p>Variable names can contain letters, numbers, underscores and periods. They cannot start with a number nor contain spaces at all.</p>
<hr class="small">
</div>
<div id="vectorisation" class="section level2">
<h2><span class="header-section-number">5.5</span> Vectorisation</h2>
<p>One final thing to be aware of is that <code>R</code> is <em>vectorised</em>, meaning that variables and functions can have vectors as values. For example:</p>
<pre class="{r}"><code>1:5
2^(1:5)
x &lt;- 1:5
2^x</code></pre>
<hr class="small">
</div>
<div id="managing-your-environment" class="section level2">
<h2><span class="header-section-number">5.6</span> Managing your environment</h2>
<p>There are a few useful commands you can use to interact with the <code>R</code> session.</p>
<p><code>ls()</code> will list all of the variables and functions stored in the global environment (your working R session):</p>
<pre class="{r}"><code>ls()</code></pre>
<p>You can use <code>rm()</code> to delete objects you no longer need:</p>
<pre class="{r}"><code>rm(x)</code></pre>
<p>If you have lots of things in your environment and want to delete all of them, you can pass the results of <code>ls()</code> to the <code>rm()</code> function:</p>
<pre class="{r}"><code>rm(list = ls())</code></pre>
<p>In this case we’ve combined the two. Just like the order of operations, anything inside the innermost parentheses is evaluated first, and so on.</p>
<p>In this case we’ve specified that the results of <code>ls()</code> should be used for the <code>list</code> argument in <code>rm()</code>. When assigning values to arguments by name, you use the <code>=</code> operator!!</p>
<p>If instead we use <code>&lt;-</code>, there will be unintended side effects, or you may just get an error message:</p>
<p><code>{r, error=TRUE} rm(list &lt;- ls())</code></p>
<p>Pay attention when <code>R</code> does something unexpected! Errors, like above, are thrown when R cannot proceed with a calculation. Warnings on the other hand usually mean that the function has run, but it probably hasn’t worked as expected.</p>
<p>In both cases, the message that <code>R</code> prints out usually give you clues how to fix a problem.</p>
<hr class="small">
</div>
<div id="r-packages" class="section level2">
<h2><span class="header-section-number">5.7</span> R Packages</h2>
<p>It is possible to add functions to <code>R</code> by writing a package, or by obtaining a package written by someone else. As of this writing, there are over 7,000 packages available on CRAN (the comprehensive <code>R</code> archive network). <code>R</code> and <code>RStudio</code> have functionality for managing packages:</p>
<ul>
<li>You can see what packages are installed by typing <code>installed.packages()</code></li>
<li>You can install packages by typing <code>install.packages(&quot;packagename&quot;)</code>, where <code>packagename</code> is the package name, in quotes.</li>
<li>You can update installed packages by typing <code>update.packages()</code></li>
<li>You can remove a package with <code>remove.packages(&quot;packagename&quot;)</code></li>
<li>You can make a package available for use with <code>library(packagename)</code></li>
</ul>
<pre class="{r}"><code>###################
### Challenge 3 ###
###################

# Which of the following are valid variable names?

# min_height
# max.height
# _age
# .mass
# MaxLength
# min-length
# 2widths
# celsius2kelvin</code></pre>
<pre class="{r}"><code>###################
### Challenge 4 ###
###################

# What will be the value of each  variable  after each statement in the following program?

# mass &lt;- 47.5
# age &lt;- 122
# mass &lt;- mass * 2.3
# age &lt;- age - 20</code></pre>
<pre class="{r}"><code>###################
### Challenge 5 ###
###################

# Run the code from the previous challenge, and write a command to compare mass to age. Is mass larger than age?</code></pre>
<pre class="{r}"><code>###################
### Challenge 6 ###
###################

# Clean up your working environment by deleting the mass and age variables.</code></pre>
<pre class="{r}"><code>###################
### Challenge 7 ###
###################

# Install the following package: `ggplot2`</code></pre>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="project-set-up.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="seeking-help.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection",
"scroll_highlight": true,
"search": true
}
});
});
</script>

</body>

</html>
